const _0x32f499=_0x49cc;function _0x3067(){const _0x351942=['refreshRkey','21303xgLHwJ','8lXjLoF','HttpGetJson','GET','获取rkey失败','454FTNfRn','mWmJK','1678705DEsbaS','6VqrdYu','10AolssR','104cLhUlI','ewkuo','serverUrl','isExpired','http://napcat-sign.wumiao.wang:2082/rkey','4493071wAZwzU','9212484TAKggH','xsrmT','dLbvI','303IyjFqh','1169145KpFAff','1683668RxEFRy','getRkey','rkeyData','nKOTh','getTime'];_0x3067=function(){return _0x351942;};return _0x3067();}(function(_0x451d57,_0xf90b67){const _0x4c098c=_0x49cc,_0x31a4cc=_0x451d57();while(!![]){try{const _0x5652fc=-parseInt(_0x4c098c(0x177))/0x1*(-parseInt(_0x4c098c(0x169))/0x2)+parseInt(_0x4c098c(0x17f))/0x3*(-parseInt(_0x4c098c(0x16e))/0x4)+parseInt(_0x4c098c(0x16b))/0x5*(parseInt(_0x4c098c(0x16c))/0x6)+-parseInt(_0x4c098c(0x179))/0x7+-parseInt(_0x4c098c(0x180))/0x8*(parseInt(_0x4c098c(0x178))/0x9)+-parseInt(_0x4c098c(0x16d))/0xa*(parseInt(_0x4c098c(0x173))/0xb)+parseInt(_0x4c098c(0x174))/0xc;if(_0x5652fc===_0xf90b67)break;else _0x31a4cc['push'](_0x31a4cc['shift']());}catch(_0x53d8c3){_0x31a4cc['push'](_0x31a4cc['shift']());}}}(_0x3067,0x32f49));function _0x49cc(_0x13a344,_0x3d0648){const _0x306715=_0x3067();return _0x49cc=function(_0x49cc82,_0x53ac21){_0x49cc82=_0x49cc82-0x167;let _0x408389=_0x306715[_0x49cc82];return _0x408389;},_0x49cc(_0x13a344,_0x3d0648);}import{logError}from'@/common/utils/log';import{RequestUtil}from'@/common/utils/request';class RkeyManager{['serverUrl']='';[_0x32f499(0x17b)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x5904ea){const _0x30add3=_0x32f499;this[_0x30add3(0x170)]=_0x5904ea;}async[_0x32f499(0x17a)](){const _0x55a51d=_0x32f499,_0x33153f={'nKOTh':function(_0x29aa62,_0x2e4425,_0x4343b7){return _0x29aa62(_0x2e4425,_0x4343b7);},'ewkuo':_0x55a51d(0x168)};if(this[_0x55a51d(0x171)]())try{await this['refreshRkey']();}catch(_0x24a11b){_0x33153f[_0x55a51d(0x17c)](logError,_0x33153f[_0x55a51d(0x16f)],_0x24a11b);}return this[_0x55a51d(0x17b)];}[_0x32f499(0x171)](){const _0x5661e5=_0x32f499,_0x4a2a22={'dLbvI':function(_0x3895da,_0x22d5bd){return _0x3895da/_0x22d5bd;},'xsrmT':function(_0x2d41a7,_0x42f658){return _0x2d41a7>_0x42f658;}},_0x31d992=_0x4a2a22[_0x5661e5(0x176)](new Date()[_0x5661e5(0x17d)](),0x3e8);return _0x4a2a22[_0x5661e5(0x175)](_0x31d992,this['rkeyData']['expired_time']);}async[_0x32f499(0x17e)](){const _0x19d70f=_0x32f499,_0x7f5a49={'mWmJK':_0x19d70f(0x167)};this[_0x19d70f(0x17b)]=await RequestUtil[_0x19d70f(0x181)](this[_0x19d70f(0x170)],_0x7f5a49[_0x19d70f(0x16a)]);}}export const rkeyManager=new RkeyManager(_0x32f499(0x172));