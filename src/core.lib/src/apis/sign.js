function _0x1584(){const _0x1bf8e3=['jumpUrl','NHybP','VUDDx','Ifako','p_skey',';\x20uin=o','ryMyA','qBWqY','5971537VzXtHp','DPwVf','aRqum','34696aTVyTH','GET','TQPvX','preview','tuoBa','source','HttpGetJson','replace','JqyQt','https://i.y.qq.com/v8/playsong.html?songmid=','&type=0','WNFOb','normal','data','FDMoX','tianxuan.imgJumpArk','wfXoq','QHxyO','jkimV','4786RIbDDJ','https://ws.stream.qqmusic.qq.com/','卡片图片不正确','EprTn','signed_ark','2034135ARnqYa','986155pOTsvF','\x5c/\x5c/','HHHOZ','qPqmB','title','name','application/json','497oowtxF','GshUi','tag','unlink','30KXMbJw','track_info','},\x22module\x22:\x22music.pf_song_detail_svr\x22}}','RSTgW','opZSo','517481sIVwFH','FEpoP','nioIs','opdiQ','6wFJjgT','uin=o10086','sourcelogo','xhTod','10GxgHcm','https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0&data={\x22comm\x22:{\x22ct\x22:24,\x22cv\x22:0},\x22songinfo\x22:{\x22method\x22:\x22get_song_detail_yqq\x22,\x22param\x22:{\x22song_type\x22:0,\x22song_mid\x22:\x22\x22,\x22song_id\x22:','UExRa','QQ音乐','wHPLt','[分享]','tagIcon','9a63343c32d5a16bcde653eb97faa25d','getQzoneCookies','TcufC','mid','https://mqq.reader.qq.com/api/mqq/share/card?accessToken&_csrfToken&source=c0003','xCYKa','ZEzPa','uin','com.tencent.miniapp.lua','MiniApp\x20JSON\x20消息生成失败','1839524ptGAQq','SLavk','Afbgw','mDpuE'];_0x1584=function(){return _0x1bf8e3;};return _0x1584();}(function(_0x160c65,_0x534bcf){const _0x5e4cc8=_0x3dbe,_0x20ffb9=_0x160c65();while(!![]){try{const _0x1b4ce1=parseInt(_0x5e4cc8(0xac))/0x1+parseInt(_0x5e4cc8(0x96))/0x2*(-parseInt(_0x5e4cc8(0xa7))/0x3)+parseInt(_0x5e4cc8(0x74))/0x4+parseInt(_0x5e4cc8(0x9c))/0x5*(-parseInt(_0x5e4cc8(0xb0))/0x6)+-parseInt(_0x5e4cc8(0xa3))/0x7*(-parseInt(_0x5e4cc8(0x83))/0x8)+-parseInt(_0x5e4cc8(0x9b))/0x9+parseInt(_0x5e4cc8(0xb4))/0xa*(-parseInt(_0x5e4cc8(0x80))/0xb);if(_0x1b4ce1===_0x534bcf)break;else _0x20ffb9['push'](_0x20ffb9['shift']());}catch(_0x303d43){_0x20ffb9['push'](_0x20ffb9['shift']());}}}(_0x1584,0x4814e));import{logDebug}from'@/common/utils/log';import{NTQQUserApi}from'./user';import{selfInfo}from'../data';import{RequestUtil}from'@/common/utils/request';import{WebApi}from'./webapi';import{checkFileReceived2,uri2local}from'@/common/utils/file';function _0x3dbe(_0x12d48c,_0x37edc3){const _0x1584c4=_0x1584();return _0x3dbe=function(_0x3dbeae,_0x6c8be8){_0x3dbeae=_0x3dbeae-0x69;let _0x2c08b8=_0x1584c4[_0x3dbeae];return _0x2c08b8;},_0x3dbe(_0x12d48c,_0x37edc3);}import _0x3bca4c from'node:fs';export async function SignMiniApp(_0x2031c1){const _0x2b1159=_0x3dbe,_0x4883a5={'nioIs':_0x2b1159(0x72),'buhip':_0x2b1159(0x92),'rIIcR':'miniapp','NHybP':_0x2b1159(0x9d),'HHHOZ':function(_0x357ae0,_0x569617){return _0x357ae0+_0x569617;},'VUDDx':function(_0x4b010a,_0x4a17dd){return _0x4b010a+_0x4a17dd;},'QHxyO':function(_0x3d32bd,_0x5b9684){return _0x3d32bd+_0x5b9684;},'mDpuE':function(_0x221962,_0x42ed1a){return _0x221962+_0x42ed1a;},'jkimV':';\x20skey=','QoKsC':';\x20p_uin=o','IDDoG':_0x2b1159(0x7d),'wHPLt':function(_0x28d273,_0x285bab){return _0x28d273+_0x285bab;},'wfXoq':function(_0x1231e3,_0x42dc99){return _0x1231e3+_0x42dc99;},'FEpoP':'https://h5.qzone.qq.com/v2/vip/tx/trpc/ark-share/GenNewSignedArk?g_tk=','qBWqY':'&ark=','ZELdJ':function(_0xae3ffc,_0x4b255d){return _0xae3ffc(_0x4b255d);},'Vpghp':_0x2b1159(0x84),'TQPvX':function(_0xfae894,_0x1480b3,_0xd8fe71){return _0xfae894(_0x1480b3,_0xd8fe71);},'xCYKa':_0x2b1159(0x73)};let _0x24afa3={'app':_0x4883a5[_0x2b1159(0xae)],'bizsrc':_0x4883a5['buhip'],'view':_0x4883a5['rIIcR'],'prompt':_0x2031c1['prompt'],'config':{'type':_0x2b1159(0x8f),'forward':0x1,'autosize':0x0},'meta':{'miniapp':{'title':_0x2031c1[_0x2b1159(0xa0)],'preview':_0x2031c1[_0x2b1159(0x86)]['replace'](/\\/g,_0x4883a5[_0x2b1159(0x79)]),'jumpUrl':_0x2031c1[_0x2b1159(0x78)][_0x2b1159(0x8a)](/\\/g,_0x2b1159(0x9d)),'tag':_0x2031c1[_0x2b1159(0xa5)],'tagIcon':_0x2031c1[_0x2b1159(0x69)][_0x2b1159(0x8a)](/\\/g,_0x2b1159(0x9d)),'source':_0x2031c1[_0x2b1159(0x88)],'sourcelogo':_0x2031c1[_0x2b1159(0xb2)][_0x2b1159(0x8a)](/\\/g,_0x4883a5[_0x2b1159(0x79)])}}},_0x502c09=await NTQQUserApi[_0x2b1159(0x6b)]();const _0x378df3=WebApi['genBkn'](_0x502c09[_0x2b1159(0x7c)]),_0x373594=_0x4883a5[_0x2b1159(0x9e)](_0x4883a5[_0x2b1159(0x9e)](_0x4883a5[_0x2b1159(0x7a)](_0x4883a5[_0x2b1159(0x94)](_0x4883a5[_0x2b1159(0x77)](_0x4883a5[_0x2b1159(0x94)]('p_skey='+_0x502c09[_0x2b1159(0x7c)],_0x4883a5[_0x2b1159(0x95)]),_0x502c09['skey']),_0x4883a5['QoKsC']),selfInfo['uin']),_0x4883a5['IDDoG']),selfInfo[_0x2b1159(0x71)]);let _0x58f4d9=_0x4883a5[_0x2b1159(0xb8)](_0x4883a5[_0x2b1159(0x93)](_0x4883a5[_0x2b1159(0xad)],_0x378df3),_0x4883a5[_0x2b1159(0x7f)])+_0x4883a5['ZELdJ'](encodeURIComponent,JSON['stringify'](_0x24afa3)),_0x2414f8='';try{let _0x8d8086=await RequestUtil[_0x2b1159(0x89)](_0x58f4d9,_0x4883a5['Vpghp'],undefined,{'Cookie':_0x373594});_0x2414f8=_0x8d8086[_0x2b1159(0x90)][_0x2b1159(0x9a)];}catch(_0x30cdc5){_0x4883a5[_0x2b1159(0x85)](logDebug,_0x4883a5[_0x2b1159(0x6f)],_0x30cdc5);}return _0x2414f8;}export async function SignMusicInternal(_0x538503,_0x2fa0b0,_0x4235b6,_0x4a951e,_0x576af8){const _0x1e92e9=_0x3dbe,_0x529f9e={'xhTod':'com.tencent.qqreader.share','TcufC':function(_0x1f5517,_0x145c43){return _0x1f5517+_0x145c43;},'tuoBa':_0x1e92e9(0x8c),'opdiQ':_0x1e92e9(0x8d),'RSTgW':'https://p.qpic.cn/qqconnect/0/app_100497308_1626060999/100?max-age=2592000&t=0','TAcwm':_0x1e92e9(0xb7),'DPwVf':_0x1e92e9(0xb9),'Ifako':'0.0.0.1','aRqum':'music','SLavk':_0x1e92e9(0xa2)};let _0xa226a5=_0x1e92e9(0x6e),_0x40cc50={'app':_0x529f9e[_0x1e92e9(0xb3)],'config':{'ctime':0x6670467e,'forward':0x1,'token':_0x1e92e9(0x6a),'type':_0x1e92e9(0x8f)},'extra':{'app_type':0x1,'appid':0x5fd779c,'msg_seq':0xc7a7f60e2d080800,'uin':0x674d9a89},'meta':{'music':{'action':'','android_pkg_name':'','app_type':0x1,'appid':0x5fd779c,'ctime':0x6670467e,'desc':_0x2fa0b0,'jumpUrl':_0x529f9e['TcufC'](_0x529f9e[_0x1e92e9(0x6c)](_0x529f9e[_0x1e92e9(0x87)],_0x4a951e),_0x529f9e[_0x1e92e9(0xaf)]),'musicUrl':_0x576af8,'preview':_0x4235b6,'cover':_0x4235b6,'sourceMsgId':'0','source_icon':_0x529f9e[_0x1e92e9(0xaa)],'source_url':'','tag':_0x529f9e['TAcwm'],'title':_0x538503,'uin':0x2766}},'prompt':_0x529f9e[_0x1e92e9(0x81)]+_0x538503,'ver':_0x529f9e[_0x1e92e9(0x7b)],'view':_0x529f9e[_0x1e92e9(0x82)]},_0x1202bb=await RequestUtil[_0x1e92e9(0x89)](_0xa226a5,'POST',_0x40cc50,{'Cookie':_0x1e92e9(0xb1),'Content-Type':_0x529f9e[_0x1e92e9(0x75)]});return _0x1202bb;}export async function CreateMusicThridWay0(_0x5efec1='',_0x12840f=''){const _0x3ae26a=_0x3dbe,_0x26e151={'opZSo':function(_0x4e3865,_0x235667){return _0x4e3865==_0x235667;},'qPqmB':function(_0x28d5f0,_0x1af59b){return _0x28d5f0+_0x1af59b;},'UExRa':_0x3ae26a(0xb5),'dEstD':_0x3ae26a(0xa9),'EprTn':_0x3ae26a(0x84),'Afbgw':function(_0x3e7979,_0x4703cc){return _0x3e7979+_0x4703cc;},'ZEzPa':'https://api.leafone.cn/api/qqmusic?id=','GshUi':'&type=8'};if(_0x26e151[_0x3ae26a(0xab)](_0x12840f,'')){let _0x43d47d=await RequestUtil[_0x3ae26a(0x89)](_0x26e151['qPqmB'](_0x26e151[_0x3ae26a(0x9f)](_0x26e151[_0x3ae26a(0xb6)],_0x5efec1),_0x26e151['dEstD']),_0x26e151[_0x3ae26a(0x99)],undefined);_0x12840f=_0x43d47d['songinfo']?.[_0x3ae26a(0x90)]?.[_0x3ae26a(0xa8)][_0x3ae26a(0x6d)];}let _0xbf0393=await RequestUtil[_0x3ae26a(0x89)](_0x26e151[_0x3ae26a(0x76)](_0x26e151[_0x3ae26a(0x76)](_0x26e151[_0x3ae26a(0x70)],_0x12840f),_0x26e151[_0x3ae26a(0xa4)]),_0x26e151[_0x3ae26a(0x99)],undefined);return{..._0xbf0393[_0x3ae26a(0x90)],'mid':_0x12840f};}export async function CreateMusicThridWay1(_0x57e121='',_0xa69e13=''){}export async function SignMusicWrapper(_0xf23470=''){const _0x31a471=_0x3dbe,_0x4a6b57={'JqyQt':function(_0xd8aec1,_0x53c829){return _0xd8aec1(_0x53c829);},'WNFOb':function(_0x1964d1,_0x1001d3){return _0x1964d1(_0x1001d3);},'FDMoX':function(_0x4b721e,_0x234dd1,_0x422da7){return _0x4b721e(_0x234dd1,_0x422da7);},'ryMyA':_0x31a471(0x97)};let _0x1bbe3a=await _0x4a6b57[_0x31a471(0x8b)](CreateMusicThridWay0,_0xf23470);const {path:_0x34fff8,isLocal:_0x4b02bb,errMsg:_0x52064d}=await _0x4a6b57[_0x31a471(0x8e)](uri2local,_0x1bbe3a['cover']);if(_0x52064d||!_0x34fff8)throw _0x31a471(0x98);await _0x4a6b57[_0x31a471(0x91)](checkFileReceived2,_0x34fff8,0x1388);let _0x2f663b=await RequestUtil['uploadImageForOpenPlatform'](_0x34fff8);!_0x4b02bb&&_0x3bca4c[_0x31a471(0xa6)](_0x34fff8,()=>{});let _0x3933e5=await SignMusicInternal(_0x1bbe3a[_0x31a471(0xa1)],_0x1bbe3a['singer'],_0x2f663b,_0x1bbe3a[_0x31a471(0x6d)],_0x4a6b57[_0x31a471(0x7e)]+_0x1bbe3a['url']);return _0x3933e5;}