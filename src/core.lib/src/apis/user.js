const _0x35b0f8=_0x154a;(function(_0x5adfc2,_0x58fafc){const _0x574849=_0x154a,_0x4433be=_0x5adfc2();while(!![]){try{const _0xb7c457=-parseInt(_0x574849(0xcc))/0x1+-parseInt(_0x574849(0xd2))/0x2*(-parseInt(_0x574849(0xf9))/0x3)+-parseInt(_0x574849(0xdc))/0x4+-parseInt(_0x574849(0xc5))/0x5+parseInt(_0x574849(0xdd))/0x6+-parseInt(_0x574849(0xa2))/0x7*(-parseInt(_0x574849(0xe9))/0x8)+parseInt(_0x574849(0xc4))/0x9;if(_0xb7c457===_0x58fafc)break;else _0x4433be['push'](_0x4433be['shift']());}catch(_0x17b7e9){_0x4433be['push'](_0x4433be['shift']());}}}(_0x2717,0xa2993));var __decorate=this&&this[_0x35b0f8(0xf3)]||function(_0x1b2e0f,_0x4cb570,_0x420526,_0x509678){const _0x131d84=_0x35b0f8,_0xb7355a={'ifMYM':function(_0x3a9a63,_0x3f982d){return _0x3a9a63<_0x3f982d;},'qizYE':function(_0x200c6c,_0x415032){return _0x200c6c===_0x415032;},'HXgbT':_0x131d84(0xcf),'rbwuk':function(_0x1ddced,_0x4433d6){return _0x1ddced-_0x4433d6;},'zjUpd':function(_0x476669,_0x35f03b){return _0x476669>=_0x35f03b;},'yfiQk':function(_0x468367,_0x39b5b5){return _0x468367(_0x39b5b5);},'ibsgz':function(_0x12044f,_0x5c7791){return _0x12044f>_0x5c7791;},'KTqZX':function(_0x15975d,_0x4ce52a,_0x4e5fe3,_0x2881d4){return _0x15975d(_0x4ce52a,_0x4e5fe3,_0x2881d4);},'KNmKL':function(_0x2835f9,_0x2fb436,_0x21799a){return _0x2835f9(_0x2fb436,_0x21799a);}};var _0x3b17a6=arguments[_0x131d84(0xdf)],_0x4cf996=_0xb7355a[_0x131d84(0xff)](_0x3b17a6,0x3)?_0x4cb570:_0xb7355a['qizYE'](_0x509678,null)?_0x509678=Object[_0x131d84(0x9a)](_0x4cb570,_0x420526):_0x509678,_0x6f15cb;if(_0xb7355a[_0x131d84(0xa9)](typeof Reflect,_0xb7355a[_0x131d84(0xd6)])&&_0xb7355a['qizYE'](typeof Reflect['decorate'],_0x131d84(0xfb)))_0x4cf996=Reflect[_0x131d84(0xbd)](_0x1b2e0f,_0x4cb570,_0x420526,_0x509678);else{for(var _0x189144=_0xb7355a[_0x131d84(0xc2)](_0x1b2e0f[_0x131d84(0xdf)],0x1);_0xb7355a[_0x131d84(0xe2)](_0x189144,0x0);_0x189144--)if(_0x6f15cb=_0x1b2e0f[_0x189144])_0x4cf996=(_0xb7355a['ifMYM'](_0x3b17a6,0x3)?_0xb7355a[_0x131d84(0x100)](_0x6f15cb,_0x4cf996):_0xb7355a[_0x131d84(0xc8)](_0x3b17a6,0x3)?_0xb7355a['KTqZX'](_0x6f15cb,_0x4cb570,_0x420526,_0x4cf996):_0xb7355a[_0x131d84(0xb8)](_0x6f15cb,_0x4cb570,_0x420526))||_0x4cf996;}return _0xb7355a['ibsgz'](_0x3b17a6,0x3)&&_0x4cf996&&Object[_0x131d84(0xa5)](_0x4cb570,_0x420526,_0x4cf996),_0x4cf996;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x154a(_0x14fbe0,_0x4006fc){const _0x2717f2=_0x2717();return _0x154a=function(_0x154a6f,_0x3d8e5d){_0x154a6f=_0x154a6f-0x98;let _0x3b95ab=_0x2717f2[_0x154a6f];return _0x3b95ab;},_0x154a(_0x14fbe0,_0x4006fc);}import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x35b0f8(0xcb)]=_0x2a754b=>{const _0x1708d5=_0x35b0f8;userInfoCache[_0x2a754b[_0x1708d5(0xc0)]]=_0x2a754b,userDetailHandlers[_0x1708d5(0x9b)](_0x4a2c4b=>_0x4a2c4b(_0x2a754b));},setTimeout(()=>{const _0x1b54d5=_0x35b0f8;napCatCore[_0x1b54d5(0xa0)](()=>{const _0xfd3d66=_0x1b54d5;napCatCore[_0xfd3d66(0xbe)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x35b0f8(0xf7)](_0x2f02c9){const _0x42a5b2=_0x35b0f8;return napCatCore[_0x42a5b2(0xdb)][_0x42a5b2(0xa8)]()[_0x42a5b2(0xf7)](_0x2f02c9);}static async[_0x35b0f8(0xb3)](_0x2969ba,_0x581366,_0xdbd9cc){const _0x1790d4=_0x35b0f8;return napCatCore[_0x1790d4(0xdb)][_0x1790d4(0xab)]()[_0x1790d4(0xbf)]({'status':_0x2969ba,'extStatus':_0x581366,'batteryStatus':_0xdbd9cc});}static async[_0x35b0f8(0xae)](_0x103322,_0x3f9be1=''){const _0x3d281d=_0x35b0f8;return napCatCore[_0x3d281d(0xdb)][_0x3d281d(0xf2)]()[_0x3d281d(0xae)](_0x103322,_0x3f9be1);}static async[_0x35b0f8(0xcd)](_0x1116dc,_0x47bc57=0x1){const _0x621907=_0x35b0f8;return napCatCore['session'][_0x621907(0xb9)]()[_0x621907(0xbc)]({'friendUid':_0x1116dc,'sourceId':0x47,'doLikeCount':_0x47bc57,'doLikeTollCount':0x0});}static async[_0x35b0f8(0xb0)](_0x2a933b){const _0x45b1b7=_0x35b0f8,_0x57d1d3=await napCatCore['session'][_0x45b1b7(0xa8)]()[_0x45b1b7(0xe3)](_0x2a933b);return{'result':_0x57d1d3?.[_0x45b1b7(0xe8)],'errMsg':_0x57d1d3?.[_0x45b1b7(0xeb)]};}static async[_0x35b0f8(0xa6)](){}static async[_0x35b0f8(0x99)](_0x46f320){}static async[_0x35b0f8(0x102)](_0x5b7c92){const _0x387ba9=_0x35b0f8,_0xd06ad1={'AeDdt':function(_0x25fe23,_0xa41b2e){return _0x25fe23===_0xa41b2e;},'QaHPQ':function(_0x26d6ab,_0x40fef0){return _0x26d6ab(_0x40fef0);},'Qzfms':function(_0x287aab,_0x21763d){return _0x287aab(_0x21763d);},'lAtON':function(_0x3a572f,_0x2b8865,_0x5e4aa1){return _0x3a572f(_0x2b8865,_0x5e4aa1);}},_0x2c8748=napCatCore['session'][_0x387ba9(0xa8)]();return new Promise((_0x4fb7d,_0x3c51c5)=>{const _0x470180=_0x387ba9,_0x21f08e={'rPJTF':function(_0x512a8d,_0x4e7424){const _0x38acba=_0x154a;return _0xd06ad1[_0x38acba(0xda)](_0x512a8d,_0x4e7424);},'bJPGL':function(_0x41efda,_0x593858){const _0x1c3ff0=_0x154a;return _0xd06ad1[_0x1c3ff0(0xda)](_0x41efda,_0x593858);}},_0x12fe07=randomUUID();let _0x479765=![],_0x4862d2=undefined,_0x44157d=!![];_0xd06ad1['lAtON'](setTimeout,()=>{const _0x39c6ea=_0x154a;!_0x479765&&(_0x4862d2?_0x21f08e[_0x39c6ea(0xfc)](_0x4fb7d,_0x4862d2):_0x21f08e[_0x39c6ea(0xee)](_0x3c51c5,_0x39c6ea(0xea))),userDetailHandlers[_0x39c6ea(0xef)](_0x12fe07);},0x1388),userDetailHandlers[_0x470180(0xaa)](_0x12fe07,_0x2b48e5=>{const _0x1f1eea=_0x470180;_0xd06ad1[_0x1f1eea(0xf4)](_0x2b48e5[_0x1f1eea(0xc0)],_0x5b7c92)&&(_0x44157d?(_0x4862d2=_0x2b48e5,_0x44157d=![]):(_0x479765=!![],_0xd06ad1[_0x1f1eea(0xb5)](_0x4fb7d,_0x2b48e5)));}),_0x2c8748[_0x470180(0xde)](_0x5b7c92,[0x0])[_0x470180(0xe6)](_0xbebbf7=>{});});}static async[_0x35b0f8(0xc6)](_0x119904){const _0x327828=_0x35b0f8;return napCatCore[_0x327828(0xdb)]['getProfileService']()[_0x327828(0xe7)](_0x119904);}static async[_0x35b0f8(0xf6)](_0x148520){const _0x4c6063=_0x35b0f8,_0x57c543={'FLpWU':function(_0x1664a2,_0x59125f){return _0x1664a2+_0x59125f;},'vomGV':function(_0x54ef83,_0x4a2a95){return _0x54ef83+_0x4a2a95;},'heKDK':'&u1=https%3A%2F%2F','bfzXk':_0x4c6063(0xd9),'ReQgz':_0x4c6063(0xe4)},_0x3df8d5=await NTQQUserApi[_0x4c6063(0xfa)](),_0x40c209=_0x57c543[_0x4c6063(0xb4)](_0x57c543[_0x4c6063(0xb4)](_0x57c543[_0x4c6063(0xa7)](_0x57c543[_0x4c6063(0xb4)](_0x4c6063(0xca),selfInfo[_0x4c6063(0xa1)])+'&clientkey=',_0x3df8d5['clientKey'])+_0x57c543[_0x4c6063(0xc1)]+_0x148520,'%2F')+selfInfo[_0x4c6063(0xa1)],_0x57c543[_0x4c6063(0xc9)]);let _0x4a1d7d={};try{_0x4a1d7d=await RequestUtil[_0x4c6063(0xfd)](_0x40c209);}catch(_0x1eee10){logDebug(_0x57c543['ReQgz'],_0x1eee10),_0x4a1d7d={};}return _0x4a1d7d;}static async[_0x35b0f8(0xd7)](_0x199f42){const _0x1c5ba4=_0x35b0f8;return await napCatCore[_0x1c5ba4(0xdb)][_0x1c5ba4(0xce)]()[_0x1c5ba4(0xfe)](_0x199f42,!![]);}static async[_0x35b0f8(0xe0)](){const _0x113f42=_0x35b0f8,_0x28d024=await napCatCore[_0x113f42(0xdb)][_0x113f42(0xbb)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x28d024?.[_0x113f42(0xad)]?.[_0x113f42(0xba)];}static async[_0x35b0f8(0xc7)](){const _0xf61693=_0x35b0f8,_0x37e845={'TzCHj':function(_0xfec6dc,_0x4c74fe){return _0xfec6dc+_0x4c74fe;},'WrKdM':function(_0xb93d01,_0x463cfb){return _0xb93d01+_0x463cfb;},'QVwer':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','Jktrv':_0xf61693(0xd0),'OrhfS':_0xf61693(0xd9),'qkkAy':function(_0x1a8dd3,_0x23e748,_0x501c21){return _0x1a8dd3(_0x23e748,_0x501c21);},'YxaHl':_0xf61693(0xe4)},_0x31b7d5=await NTQQUserApi[_0xf61693(0xfa)](),_0xd89f67=_0x37e845['TzCHj'](_0x37e845[_0xf61693(0xb1)](_0x37e845[_0xf61693(0xb1)](_0x37e845[_0xf61693(0xac)](_0x37e845[_0xf61693(0xd8)]+selfInfo[_0xf61693(0xa1)],_0x37e845[_0xf61693(0xb7)])+_0x31b7d5[_0xf61693(0xaf)],_0xf61693(0x9c)),selfInfo[_0xf61693(0xa1)]),_0x37e845[_0xf61693(0xec)]);let _0x51cfe5={};try{_0x51cfe5=await RequestUtil[_0xf61693(0xfd)](_0xd89f67);}catch(_0x1b8d2b){_0x37e845[_0xf61693(0xed)](logDebug,_0x37e845['YxaHl'],_0x1b8d2b),_0x51cfe5={};}return _0x51cfe5;}static async['getSkey'](){const _0x489163=_0x35b0f8,_0x3312e3={'HvWIX':function(_0x20b181,_0xb880b6){return _0x20b181!==_0xb880b6;},'fpeIw':function(_0x5588e8,_0x556283){return _0x5588e8+_0x556283;},'yMVMz':function(_0x5dc3d1,_0x48d3bb){return _0x5dc3d1+_0x48d3bb;},'QVtXw':function(_0x1142db,_0x14c41a){return _0x1142db+_0x14c41a;},'EngCV':function(_0xfdc1d1,_0x12a3d6){return _0xfdc1d1+_0x12a3d6;},'eoPiS':_0x489163(0xca),'IRtHT':_0x489163(0xd0),'zfppC':_0x489163(0xf5),'NheYA':function(_0x423bd0,_0xec202e,_0x57d802){return _0x423bd0(_0xec202e,_0x57d802);},'lHMRQ':'请求获取Skey时失败'};try{const _0x5d880c=await NTQQUserApi[_0x489163(0xfa)]();if(_0x3312e3[_0x489163(0xd5)](_0x5d880c[_0x489163(0xe8)],0x0))return'';const _0x4d9103=_0x5d880c[_0x489163(0xaf)],_0x374d0b=_0x5d880c[_0x489163(0xc3)],_0x3b4ade=_0x3312e3[_0x489163(0x98)](_0x3312e3['yMVMz'](_0x3312e3['QVtXw'](_0x3312e3[_0x489163(0xf8)](_0x3312e3['eoPiS'],selfInfo['uin']),_0x3312e3[_0x489163(0x9e)]),_0x4d9103),_0x3312e3['zfppC']);let _0x34209c={};try{_0x34209c=await RequestUtil[_0x489163(0xfd)](_0x3b4ade);}catch(_0x35cdf7){_0x3312e3[_0x489163(0xe5)](logDebug,_0x3312e3[_0x489163(0xd4)],_0x35cdf7),_0x34209c={};}const _0x46a563=_0x34209c[_0x489163(0xd1)];if(!_0x46a563)return'';return _0x46a563;}catch(_0x4be797){}return undefined;}static async[_0x35b0f8(0xb2)](_0x3230c4){const _0x26a917=_0x35b0f8,_0x5b16b0={'TVCes':'NodeIKernelUixConvertService/getUid'};let _0x16e6f3=await NTEventDispatch[_0x26a917(0x9f)](_0x5b16b0['TVCes'],0x1388,[_0x3230c4]);return _0x16e6f3[_0x26a917(0xf0)][_0x26a917(0x101)](_0x3230c4);}static async['getUinByUid'](_0x592c09){const _0xfdfc6b=_0x35b0f8,_0x13ad89={'NoDLF':_0xfdfc6b(0x9d)};if(!_0x592c09)return'';let _0x186a78=await NTEventDispatch[_0xfdfc6b(0x9f)](_0x13ad89[_0xfdfc6b(0xa4)],0x1388,[_0x592c09]);return _0x186a78[_0xfdfc6b(0xe1)]['get'](_0x592c09);}static async['getUserDetailInfoByUin'](_0x3f8536){const _0x469fa0=_0x35b0f8,_0x2d01d3={'dwGSn':_0x469fa0(0xb6)};return NTEventDispatch[_0x469fa0(0x9f)](_0x2d01d3[_0x469fa0(0xa3)],0x1388,_0x3f8536);}static async[_0x35b0f8(0xfa)](){const _0x525db9=_0x35b0f8;return await napCatCore[_0x525db9(0xdb)]['getTicketService']()[_0x525db9(0xfa)]('');}}function _0x2717(){const _0x1fc8dd=['fpeIw','getUserInfo','getOwnPropertyDescriptor','forEach','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','NodeIKernelUixConvertService/getUin','IRtHT','CallNoListenerEvent','onLoginSuccess','uin','5357149cLvIGz','dwGSn','NoDLF','defineProperty','getSelfInfo','vomGV','getProfileService','qizYE','set','getMsgService','WrKdM','response','getBuddyRecommendContactArkJson','clientKey','setQQAvatar','TzCHj','getUidByUin','setSelfOnlineStatus','FLpWU','QaHPQ','NodeIKernelProfileService/getUserDetailInfoByUin','Jktrv','KNmKL','getProfileLikeService','robotUinRanges','getRobotService','setBuddyProfileLike','decorate','addListener','setStatus','uid','heKDK','rbwuk','keyIndex','17177958ZyQFBP','6149790NUvnAT','modifySelfProfile','getQzoneCookies','ibsgz','bfzXk','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','onProfileDetailInfoChanged','282332lkwgtf','like','getTipOffService','object','&clientkey=','skey','152226OPANEq','ClientKey','lHMRQ','HvWIX','HXgbT','getPSkey','QVwer','%2Finfocenter&keyindex=19%27','Qzfms','session','4074872SsnbvO','2224896xNZVsF','getUserDetailInfoWithBizInfo','length','getRobotUinRange','uinInfo','zjUpd','setHeader','请求获取Cookies时失败','NheYA','then','modifyDesktopMiniProfile','result','8XBVBmi','getUserDetailInfo\x20timeout','errMsg','OrhfS','qkkAy','bJPGL','delete','uidInfo','getSkey','getBuddyService','__decorate','AeDdt','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','getCookies','setLongNick','EngCV','6rQnQdT','forceFetchClientKey','function','rPJTF','HttpsGetCookies','getPskey','ifMYM','yfiQk','get','getUserDetailInfo'];_0x2717=function(){return _0x1fc8dd;};return _0x2717();}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x35b0f8(0xf6),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getPSkey',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x35b0f8(0xc7),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x35b0f8(0xf1),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x35b0f8(0xd3))],NTQQUserApi,_0x35b0f8(0xfa),null);