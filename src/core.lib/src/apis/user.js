const _0x1b8a85=_0x2816;function _0x2816(_0x39ecc0,_0x4389fe){const _0x4c8186=_0x4c81();return _0x2816=function(_0x281631,_0xcb343c){_0x281631=_0x281631-0x111;let _0x1392da=_0x4c8186[_0x281631];return _0x1392da;},_0x2816(_0x39ecc0,_0x4389fe);}(function(_0x4f2064,_0x136f0b){const _0x3c1df8=_0x2816,_0x202ed5=_0x4f2064();while(!![]){try{const _0x25df30=parseInt(_0x3c1df8(0x122))/0x1*(parseInt(_0x3c1df8(0x154))/0x2)+-parseInt(_0x3c1df8(0x11b))/0x3+parseInt(_0x3c1df8(0x16b))/0x4*(parseInt(_0x3c1df8(0x135))/0x5)+-parseInt(_0x3c1df8(0x155))/0x6*(parseInt(_0x3c1df8(0x13a))/0x7)+-parseInt(_0x3c1df8(0x15e))/0x8+parseInt(_0x3c1df8(0x157))/0x9+parseInt(_0x3c1df8(0x12a))/0xa;if(_0x25df30===_0x136f0b)break;else _0x202ed5['push'](_0x202ed5['shift']());}catch(_0x2fe04c){_0x202ed5['push'](_0x202ed5['shift']());}}}(_0x4c81,0x35582));var __decorate=this&&this[_0x1b8a85(0x159)]||function(_0xb44c40,_0x2d8e67,_0x453f79,_0x47d22e){const _0x55b1bf=_0x1b8a85,_0x364dab={'aKCRw':function(_0x47f999,_0x468ab3){return _0x47f999<_0x468ab3;},'ZFHDR':function(_0x1e92a4,_0x599bf4){return _0x1e92a4===_0x599bf4;},'hbwfA':_0x55b1bf(0x175),'paCaa':function(_0x1a05d2,_0x924aab){return _0x1a05d2===_0x924aab;},'CVCKj':_0x55b1bf(0x128),'gcfDM':function(_0x515afb,_0x4c554d){return _0x515afb-_0x4c554d;},'ZcAZZ':function(_0x21bd95,_0x13eb10){return _0x21bd95>=_0x13eb10;},'DhtsV':function(_0x177842,_0x24a4a7){return _0x177842(_0x24a4a7);},'hrTia':function(_0x335d50,_0xeec06){return _0x335d50>_0xeec06;},'AuefM':function(_0x2ab07d,_0x365dda,_0x1bacba,_0x4c005a){return _0x2ab07d(_0x365dda,_0x1bacba,_0x4c005a);},'UMQoH':function(_0x237641,_0xaecddf,_0x1be98a){return _0x237641(_0xaecddf,_0x1be98a);}};var _0x3edfb2=arguments[_0x55b1bf(0x16c)],_0x3c8494=_0x364dab[_0x55b1bf(0x15a)](_0x3edfb2,0x3)?_0x2d8e67:_0x364dab[_0x55b1bf(0x163)](_0x47d22e,null)?_0x47d22e=Object[_0x55b1bf(0x150)](_0x2d8e67,_0x453f79):_0x47d22e,_0x1a50b3;if(_0x364dab[_0x55b1bf(0x163)](typeof Reflect,_0x364dab[_0x55b1bf(0x16f)])&&_0x364dab['paCaa'](typeof Reflect[_0x55b1bf(0x119)],_0x364dab['CVCKj']))_0x3c8494=Reflect[_0x55b1bf(0x119)](_0xb44c40,_0x2d8e67,_0x453f79,_0x47d22e);else{for(var _0x2d6f01=_0x364dab[_0x55b1bf(0x174)](_0xb44c40[_0x55b1bf(0x16c)],0x1);_0x364dab['ZcAZZ'](_0x2d6f01,0x0);_0x2d6f01--)if(_0x1a50b3=_0xb44c40[_0x2d6f01])_0x3c8494=(_0x364dab['aKCRw'](_0x3edfb2,0x3)?_0x364dab['DhtsV'](_0x1a50b3,_0x3c8494):_0x364dab['hrTia'](_0x3edfb2,0x3)?_0x364dab[_0x55b1bf(0x14c)](_0x1a50b3,_0x2d8e67,_0x453f79,_0x3c8494):_0x364dab[_0x55b1bf(0x14f)](_0x1a50b3,_0x2d8e67,_0x453f79))||_0x3c8494;}return _0x3edfb2>0x3&&_0x3c8494&&Object[_0x55b1bf(0x130)](_0x2d8e67,_0x453f79,_0x3c8494),_0x3c8494;};import{selfInfo}from'@/core/data';function _0x4c81(){const _0x4b231c=['__decorate','aKCRw','uidInfo','uin','delete','2439760ecYjNy','%2Finfocenter&keyindex=19%27','errMsg','Tuhbj','ClientKey','ZFHDR','VExVQ','uinInfo','PVrBY','setSelfOnlineStatus','getRobotUinRange','OwaFt','THfZz','2624uCgYmC','length','NodeIKernelUixConvertService/getUin','请求获取Cookies时失败','hbwfA','oPbNM','BDvbl','response','KRdwi','gcfDM','object','NodeIKernelUixConvertService/getUid','keyIndex','clientKey','%2F','getRobotService','SjCWg','getUserDetailInfoByUin','XhNtx','getUserDetailInfoWithBizInfo','getTicketService','getUidByUin','decorate','setHeader','887301lUATua','getUserInfo','forEach','AhwrX','getPskey','CallNoListenerEvent','Yhghf','1QwTtBy','get','skey','session','getBuddyService','result','function','like','4165290LCPBkx','getUserDetailInfo\x20timeout','&u1=https%3A%2F%2F','getUinByUid','HttpsGetCookies','setStatus','defineProperty','robotUinRanges','getQzoneCookies','then','DpONx','1840RjXGPB','getSkey','getTipOffService','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','getCookies','164108Pjrhkv','Kbaef','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getProfileService','请求获取Skey时失败','getPSkey','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','setBuddyProfileLike','MNnGx','UvejB','&clientkey=','nBAbs','aiUEc','vwrMs','forceFetchClientKey','vsszz','modifySelfProfile','WKXRh','AuefM','onLoginSuccess','getSelfInfo','UMQoH','getOwnPropertyDescriptor','onProfileDetailInfoChanged','uid','UIJRe','70014xkpymk','18vTDfbN','getProfileLikeService','1769607TSvFjc','UuVkv'];_0x4c81=function(){return _0x4b231c;};return _0x4c81();}import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x1b8a85(0x151)]=_0x415262=>{const _0x3eba57=_0x1b8a85;userInfoCache[_0x415262[_0x3eba57(0x152)]]=_0x415262,userDetailHandlers[_0x3eba57(0x11d)](_0x227430=>_0x227430(_0x415262));},setTimeout(()=>{const _0x21af92=_0x1b8a85;napCatCore[_0x21af92(0x14d)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async['setLongNick'](_0x1e30ce){const _0x11ca55=_0x1b8a85;return napCatCore[_0x11ca55(0x125)][_0x11ca55(0x13d)]()['setLongNick'](_0x1e30ce);}static async[_0x1b8a85(0x167)](_0x47c1bf,_0x5ce6c9,_0x5ee97e){const _0x3d72b2=_0x1b8a85;return napCatCore[_0x3d72b2(0x125)]['getMsgService']()[_0x3d72b2(0x12f)]({'status':_0x47c1bf,'extStatus':_0x5ce6c9,'batteryStatus':_0x5ee97e});}static async['getBuddyRecommendContactArkJson'](_0x39da5c,_0x3bae31=''){const _0xf1aefc=_0x1b8a85;return napCatCore[_0xf1aefc(0x125)][_0xf1aefc(0x126)]()['getBuddyRecommendContactArkJson'](_0x39da5c,_0x3bae31);}static async[_0x1b8a85(0x129)](_0x242c5b,_0xfff3f4=0x1){const _0x7d1287=_0x1b8a85;return napCatCore['session'][_0x7d1287(0x156)]()[_0x7d1287(0x141)]({'friendUid':_0x242c5b,'sourceId':0x47,'doLikeCount':_0xfff3f4,'doLikeTollCount':0x0});}static async['setQQAvatar'](_0x402112){const _0x4ae004=_0x1b8a85,_0x2296a8=await napCatCore[_0x4ae004(0x125)]['getProfileService']()[_0x4ae004(0x11a)](_0x402112);return{'result':_0x2296a8?.[_0x4ae004(0x127)],'errMsg':_0x2296a8?.[_0x4ae004(0x160)]};}static async[_0x1b8a85(0x14e)](){}static async[_0x1b8a85(0x11c)](_0x5e5aec){}static async['getUserDetailInfo'](_0x4f5eb7){const _0xe7ccbe=_0x1b8a85,_0xb4a35f={'UvejB':function(_0x31bd27,_0x34f102){return _0x31bd27(_0x34f102);},'AhwrX':function(_0x41b253,_0x2f5523){return _0x41b253(_0x2f5523);},'UuVkv':function(_0x257f6c,_0x4e6097){return _0x257f6c===_0x4e6097;},'vwrMs':function(_0x4768d3){return _0x4768d3();},'vsszz':function(_0x33c9ce,_0x3558c1,_0x5ad653){return _0x33c9ce(_0x3558c1,_0x5ad653);}},_0x2a5d5b=napCatCore[_0xe7ccbe(0x125)][_0xe7ccbe(0x13d)]();return new Promise((_0x4090a0,_0x50a12d)=>{const _0x200feb=_0xe7ccbe,_0x39ed16=_0xb4a35f[_0x200feb(0x147)](randomUUID);let _0x556fe1=![],_0x2fd718=undefined,_0x215dd3=!![];_0xb4a35f[_0x200feb(0x149)](setTimeout,()=>{const _0x57b33f=_0x200feb;!_0x556fe1&&(_0x2fd718?_0xb4a35f['UvejB'](_0x4090a0,_0x2fd718):_0xb4a35f[_0x57b33f(0x11e)](_0x50a12d,_0x57b33f(0x12b))),userDetailHandlers[_0x57b33f(0x15d)](_0x39ed16);},0x1388),userDetailHandlers['set'](_0x39ed16,_0x1ad716=>{const _0x38bac1=_0x200feb;_0xb4a35f[_0x38bac1(0x158)](_0x1ad716[_0x38bac1(0x152)],_0x4f5eb7)&&(_0x215dd3?(_0x2fd718=_0x1ad716,_0x215dd3=![]):(_0x556fe1=!![],_0xb4a35f[_0x38bac1(0x143)](_0x4090a0,_0x1ad716)));}),_0x2a5d5b[_0x200feb(0x116)](_0x4f5eb7,[0x0])[_0x200feb(0x133)](_0x353d52=>{});});}static async[_0x1b8a85(0x14a)](_0x53998b){const _0x4b9941=_0x1b8a85;return napCatCore['session'][_0x4b9941(0x13d)]()['modifyDesktopMiniProfile'](_0x53998b);}static async['getCookies'](_0x581fc1){const _0x746205=_0x1b8a85,_0x1b46a4={'XhNtx':function(_0x50d0a7,_0x4188d6){return _0x50d0a7+_0x4188d6;},'zEHjA':function(_0x964c10,_0xb836d3){return _0x964c10+_0xb836d3;},'nBAbs':function(_0x2ad8f5,_0x4895d5){return _0x2ad8f5+_0x4895d5;},'VGGcy':function(_0x1ead77,_0x39f333){return _0x1ead77+_0x39f333;},'tcPku':_0x746205(0x13c),'DpONx':_0x746205(0x12c),'KRdwi':_0x746205(0x111),'OwaFt':function(_0x551fc9,_0xaf157,_0x3e39d0){return _0x551fc9(_0xaf157,_0x3e39d0);}},_0x56450a=await NTQQUserApi[_0x746205(0x148)](),_0x3f2bb9=_0x1b46a4[_0x746205(0x115)](_0x1b46a4[_0x746205(0x115)](_0x1b46a4['zEHjA'](_0x1b46a4['XhNtx'](_0x1b46a4[_0x746205(0x145)](_0x1b46a4['VGGcy'](_0x1b46a4[_0x746205(0x115)](_0x1b46a4['tcPku'],selfInfo['uin']),_0x746205(0x144)),_0x56450a['clientKey']),_0x1b46a4[_0x746205(0x134)])+_0x581fc1,_0x1b46a4[_0x746205(0x173)]),selfInfo[_0x746205(0x15c)]),_0x746205(0x15f));let _0x4624f6={};try{_0x4624f6=await RequestUtil[_0x746205(0x12e)](_0x3f2bb9);}catch(_0x228581){_0x1b46a4[_0x746205(0x169)](logDebug,_0x746205(0x16e),_0x228581),_0x4624f6={};}return _0x4624f6;}static async['getPSkey'](_0x4c520c){const _0x46ba0f=_0x1b8a85;return await napCatCore[_0x46ba0f(0x125)][_0x46ba0f(0x137)]()[_0x46ba0f(0x11f)](_0x4c520c,!![]);}static async[_0x1b8a85(0x168)](){const _0x72c9ec=_0x1b8a85,_0x4a37e3=await napCatCore[_0x72c9ec(0x125)][_0x72c9ec(0x112)]()[_0x72c9ec(0x168)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x4a37e3?.[_0x72c9ec(0x172)]?.[_0x72c9ec(0x131)];}static async[_0x1b8a85(0x132)](){const _0x356226=_0x1b8a85,_0x1665f4={'MNnGx':function(_0x23aa98,_0x316ab3){return _0x23aa98+_0x316ab3;},'PVrBY':function(_0x56e2dd,_0xf02a2c){return _0x56e2dd+_0xf02a2c;},'UIJRe':function(_0x50ed5f,_0x112409){return _0x50ed5f+_0x112409;},'SjCWg':function(_0x55f981,_0x277673){return _0x55f981+_0x277673;},'Kbaef':_0x356226(0x144),'THfZz':_0x356226(0x15f),'Yhghf':function(_0x21a73b,_0xd441c6,_0x4b0489){return _0x21a73b(_0xd441c6,_0x4b0489);},'uiRCS':'请求获取Cookies时失败'},_0x58477d=await NTQQUserApi['forceFetchClientKey'](),_0x2fa237=_0x1665f4[_0x356226(0x142)](_0x1665f4[_0x356226(0x166)](_0x1665f4[_0x356226(0x153)](_0x1665f4[_0x356226(0x113)](_0x1665f4[_0x356226(0x153)](_0x356226(0x13c),selfInfo[_0x356226(0x15c)])+_0x1665f4[_0x356226(0x13b)],_0x58477d[_0x356226(0x178)]),_0x356226(0x138)),selfInfo[_0x356226(0x15c)]),_0x1665f4[_0x356226(0x16a)]);let _0x2a9148={};try{_0x2a9148=await RequestUtil[_0x356226(0x12e)](_0x2fa237);}catch(_0x228ec6){_0x1665f4[_0x356226(0x121)](logDebug,_0x1665f4['uiRCS'],_0x228ec6),_0x2a9148={};}return _0x2a9148;}static async['getSkey'](){const _0x2264bb=_0x1b8a85,_0x1e1bb5={'Tuhbj':function(_0x3853fe,_0x5a4d13){return _0x3853fe!==_0x5a4d13;},'awNQl':_0x2264bb(0x13c),'oPbNM':'&clientkey=','WKXRh':_0x2264bb(0x140),'BDvbl':_0x2264bb(0x13e),'aiUEc':_0x2264bb(0x124)};try{const _0x2b6309=await NTQQUserApi[_0x2264bb(0x148)]();if(_0x1e1bb5[_0x2264bb(0x161)](_0x2b6309[_0x2264bb(0x127)],0x0))return'';const _0x3ed3e7=_0x2b6309[_0x2264bb(0x178)],_0x4523ec=_0x2b6309[_0x2264bb(0x177)],_0x1cdcf0=_0x1e1bb5['awNQl']+selfInfo[_0x2264bb(0x15c)]+_0x1e1bb5[_0x2264bb(0x170)]+_0x3ed3e7+_0x1e1bb5[_0x2264bb(0x14b)];let _0x2bd9f4={};try{_0x2bd9f4=await RequestUtil[_0x2264bb(0x12e)](_0x1cdcf0);}catch(_0x376c13){logDebug(_0x1e1bb5[_0x2264bb(0x171)],_0x376c13),_0x2bd9f4={};}const _0x536b91=_0x2bd9f4[_0x1e1bb5[_0x2264bb(0x146)]];if(!_0x536b91)return'';return _0x536b91;}catch(_0xcb26f9){}return undefined;}static async[_0x1b8a85(0x118)](_0x7ddb8f){const _0x2102df=_0x1b8a85,_0xb0c716={'OZbGT':_0x2102df(0x176)};let _0x58d1b0=await NTEventDispatch[_0x2102df(0x120)](_0xb0c716['OZbGT'],0x1388,[_0x7ddb8f]);return _0x58d1b0[_0x2102df(0x15b)][_0x2102df(0x123)](_0x7ddb8f);}static async[_0x1b8a85(0x12d)](_0x557b2e){const _0x2b6767=_0x1b8a85,_0x25871c={'VExVQ':_0x2b6767(0x16d)};if(!_0x557b2e)return'';let _0x21d4d0=await NTEventDispatch[_0x2b6767(0x120)](_0x25871c[_0x2b6767(0x164)],0x1388,[_0x557b2e]);return _0x21d4d0[_0x2b6767(0x165)]['get'](_0x557b2e);}static async[_0x1b8a85(0x114)](_0x4d748a){const _0x5b0895=_0x1b8a85,_0x34fadb={'MnOkG':'NodeIKernelProfileService/getUserDetailInfoByUin'};return NTEventDispatch[_0x5b0895(0x120)](_0x34fadb['MnOkG'],0x1388,_0x4d748a);}static async[_0x1b8a85(0x148)](){const _0x312e97=_0x1b8a85;return await napCatCore[_0x312e97(0x125)][_0x312e97(0x117)]()['forceFetchClientKey']('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1b8a85(0x139),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1b8a85(0x13f),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getQzoneCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1b8a85(0x136),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x1b8a85(0x162))],NTQQUserApi,_0x1b8a85(0x148),null);