const _0x3e5148=_0x2501;(function(_0x3a398e,_0x5b44ea){const _0x4cc6d9=_0x2501,_0x1091b9=_0x3a398e();while(!![]){try{const _0x473e97=-parseInt(_0x4cc6d9(0xe0))/0x1+parseInt(_0x4cc6d9(0xb2))/0x2+parseInt(_0x4cc6d9(0xa4))/0x3*(-parseInt(_0x4cc6d9(0x8b))/0x4)+parseInt(_0x4cc6d9(0xb4))/0x5+-parseInt(_0x4cc6d9(0x9c))/0x6+parseInt(_0x4cc6d9(0xbe))/0x7*(parseInt(_0x4cc6d9(0xa1))/0x8)+-parseInt(_0x4cc6d9(0xc8))/0x9;if(_0x473e97===_0x5b44ea)break;else _0x1091b9['push'](_0x1091b9['shift']());}catch(_0x6fe16e){_0x1091b9['push'](_0x1091b9['shift']());}}}(_0x2c23,0x411ac));var __decorate=this&&this[_0x3e5148(0xb9)]||function(_0x3657b2,_0x5164b9,_0x404ea8,_0x4d3771){const _0x56ff54=_0x3e5148,_0x489cc5={'KKXYp':function(_0x2fa056,_0x47af0c){return _0x2fa056<_0x47af0c;},'GWkZw':function(_0x1c6a7a,_0x214ec6){return _0x1c6a7a===_0x214ec6;},'nBYCL':_0x56ff54(0xb1),'pSTeo':_0x56ff54(0xd1),'rnCNL':function(_0x1193e8,_0x3c1d69){return _0x1193e8-_0x3c1d69;},'UrqIY':function(_0x5267d4,_0x572b0d){return _0x5267d4>=_0x572b0d;},'KwraP':function(_0x3e1778,_0x46ab93){return _0x3e1778(_0x46ab93);},'eegMr':function(_0x4bf66a,_0x182ed1){return _0x4bf66a>_0x182ed1;},'QeLxZ':function(_0x16086a,_0x5b0cc0,_0x55b4ff,_0x15d747){return _0x16086a(_0x5b0cc0,_0x55b4ff,_0x15d747);},'FNUfo':function(_0x130bf1,_0x27a657,_0xfe692a){return _0x130bf1(_0x27a657,_0xfe692a);}};var _0xa2ac0e=arguments['length'],_0x32256c=_0x489cc5[_0x56ff54(0x8e)](_0xa2ac0e,0x3)?_0x5164b9:_0x489cc5[_0x56ff54(0xcc)](_0x4d3771,null)?_0x4d3771=Object['getOwnPropertyDescriptor'](_0x5164b9,_0x404ea8):_0x4d3771,_0x10952d;if(_0x489cc5[_0x56ff54(0xcc)](typeof Reflect,_0x489cc5[_0x56ff54(0xaf)])&&_0x489cc5[_0x56ff54(0xcc)](typeof Reflect[_0x56ff54(0x90)],_0x489cc5[_0x56ff54(0xcd)]))_0x32256c=Reflect[_0x56ff54(0x90)](_0x3657b2,_0x5164b9,_0x404ea8,_0x4d3771);else{for(var _0x576404=_0x489cc5[_0x56ff54(0xcf)](_0x3657b2['length'],0x1);_0x489cc5['UrqIY'](_0x576404,0x0);_0x576404--)if(_0x10952d=_0x3657b2[_0x576404])_0x32256c=(_0xa2ac0e<0x3?_0x489cc5['KwraP'](_0x10952d,_0x32256c):_0x489cc5[_0x56ff54(0xac)](_0xa2ac0e,0x3)?_0x489cc5[_0x56ff54(0xe7)](_0x10952d,_0x5164b9,_0x404ea8,_0x32256c):_0x489cc5[_0x56ff54(0xce)](_0x10952d,_0x5164b9,_0x404ea8))||_0x32256c;}return _0xa2ac0e>0x3&&_0x32256c&&Object['defineProperty'](_0x5164b9,_0x404ea8,_0x32256c),_0x32256c;};import{selfInfo}from'@/core/data';function _0x2c23(){const _0x130f65=['setStatus','yoSCG','HPKUz','robotUinRanges','nEuHY','Ywuxz','cnbGW','uin','keyIndex','112501iOaWRH','skey','getUserDetailInfo','uinInfo','rftDj','AkBIh','session','QeLxZ','getBuddyService','setHeader','modifySelfProfile','setBuddyProfileLike','forEach','xCJVW','set','getSelfInfo','rEExO','904516nTtjpi','clientKey','请求获取Skey时失败','KKXYp','getSkey','decorate','result','%2F','getUidByUin','uabpj','getUserInfo','getCookies','lQrvD','&clientkey=','like','APDrI','BTdPk','582900tXlVSl','WVyWg','getProfileLikeService','CallNoListenerEvent','KZPZl','3876288ionEOS','setLongNick','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','3wlydUZ','getUinByUid','HttpsGetCookies','getProfileService','onLoginSuccess','onProfileDetailInfoChanged','getQzoneCookies','IRzpu','eegMr','setQQAvatar','getUserDetailInfo\x20timeout','nBYCL','getPSkey','object','743434zHUsmo','PQEFM','2571545LgqSsC','getUserDetailInfoWithBizInfo','FmPRr','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','getBuddyRecommendContactArkJson','__decorate','MnKDH','getTicketService','%2Finfocenter&keyindex=19%27','addListener','7ZAtEFA','SQRhI','GMuaX','UwjvJ','rhXQt','opTIQ','NodeIKernelProfileService/getUserDetailInfoByUin','getRobotUinRange','mvejo','forceFetchClientKey','6013026adHgOh','&u1=https%3A%2F%2F','then','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','GWkZw','pSTeo','FNUfo','rnCNL','setSelfOnlineStatus','function','getMsgService','oPwkT','citUe','getPskey','ZsMxp'];_0x2c23=function(){return _0x130f65;};return _0x2c23();}function _0x2501(_0x2eddc0,_0x2cde3b){const _0x2c230e=_0x2c23();return _0x2501=function(_0x2501a1,_0x119cbe){_0x2501a1=_0x2501a1-0x8a;let _0x6122ff=_0x2c230e[_0x2501a1];return _0x6122ff;},_0x2501(_0x2eddc0,_0x2cde3b);}import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x3e5148(0xa9)]=_0x404a9b=>{const _0x1e3ed6=_0x3e5148;userInfoCache[_0x404a9b['uid']]=_0x404a9b,userDetailHandlers[_0x1e3ed6(0xec)](_0x9ed5cf=>_0x9ed5cf(_0x404a9b));},setTimeout(()=>{const _0x3edf51=_0x3e5148;napCatCore[_0x3edf51(0xa8)](()=>{const _0x34dd82=_0x3edf51;napCatCore[_0x34dd82(0xbd)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x3e5148(0xa2)](_0x433411){const _0x24eced=_0x3e5148;return napCatCore[_0x24eced(0xe6)][_0x24eced(0xa7)]()['setLongNick'](_0x433411);}static async[_0x3e5148(0xd0)](_0x241d2f,_0x4ab4b1,_0x4344c9){const _0x4448b8=_0x3e5148;return napCatCore['session'][_0x4448b8(0xd2)]()[_0x4448b8(0xd7)]({'status':_0x241d2f,'extStatus':_0x4ab4b1,'batteryStatus':_0x4344c9});}static async[_0x3e5148(0xb8)](_0x425969,_0x47f386=''){const _0x5310dd=_0x3e5148;return napCatCore[_0x5310dd(0xe6)][_0x5310dd(0xe8)]()['getBuddyRecommendContactArkJson'](_0x425969,_0x47f386);}static async[_0x3e5148(0x99)](_0x2c5b88,_0x22f9b7=0x1){const _0x3c3300=_0x3e5148;return napCatCore[_0x3c3300(0xe6)][_0x3c3300(0x9e)]()[_0x3c3300(0xeb)]({'friendUid':_0x2c5b88,'sourceId':0x47,'doLikeCount':_0x22f9b7,'doLikeTollCount':0x0});}static async[_0x3e5148(0xad)](_0x359b31){const _0x55ca7b=_0x3e5148,_0x3a658e=await napCatCore[_0x55ca7b(0xe6)]['getProfileService']()[_0x55ca7b(0xe9)](_0x359b31);return{'result':_0x3a658e?.[_0x55ca7b(0x91)],'errMsg':_0x3a658e?.['errMsg']};}static async[_0x3e5148(0xef)](){}static async[_0x3e5148(0x95)](_0x535500){}static async[_0x3e5148(0xe2)](_0x491ea3){const _0x44faaa=_0x3e5148,_0x29b80e={'mvejo':function(_0x55bb07,_0x541898){return _0x55bb07(_0x541898);},'rhXQt':function(_0x2f86ca){return _0x2f86ca();},'nEuHY':function(_0x5369e5,_0x296818,_0x53905f){return _0x5369e5(_0x296818,_0x53905f);}},_0x368664=napCatCore['session'][_0x44faaa(0xa7)]();return new Promise((_0x47efb6,_0x5b20a6)=>{const _0x2fb2d1=_0x44faaa,_0x308bcb={'cnbGW':function(_0x26ea23,_0x478845){return _0x29b80e['mvejo'](_0x26ea23,_0x478845);},'IRzpu':function(_0x4105fa,_0x6e74b4){const _0x5591ca=_0x2501;return _0x29b80e[_0x5591ca(0xc6)](_0x4105fa,_0x6e74b4);}},_0x53c5d7=_0x29b80e[_0x2fb2d1(0xc2)](randomUUID);let _0x1d33de=![],_0x130f5a=undefined,_0x4e843d=!![];_0x29b80e[_0x2fb2d1(0xdb)](setTimeout,()=>{const _0x3a8632=_0x2fb2d1;!_0x1d33de&&(_0x130f5a?_0x308bcb[_0x3a8632(0xdd)](_0x47efb6,_0x130f5a):_0x308bcb[_0x3a8632(0xab)](_0x5b20a6,_0x3a8632(0xae))),userDetailHandlers['delete'](_0x53c5d7);},0x1388),userDetailHandlers[_0x2fb2d1(0xee)](_0x53c5d7,_0x524f9d=>{_0x524f9d['uid']===_0x491ea3&&(_0x4e843d?(_0x130f5a=_0x524f9d,_0x4e843d=![]):(_0x1d33de=!![],_0x47efb6(_0x524f9d)));}),_0x368664[_0x2fb2d1(0xb5)](_0x491ea3,[0x0])[_0x2fb2d1(0xca)](_0x57c752=>{});});}static async[_0x3e5148(0xea)](_0x4941eb){const _0x103112=_0x3e5148;return napCatCore[_0x103112(0xe6)][_0x103112(0xa7)]()['modifyDesktopMiniProfile'](_0x4941eb);}static async['getCookies'](_0x38e105){const _0x406938=_0x3e5148,_0x20f1c7={'BTdPk':function(_0x2035fa,_0x42e861){return _0x2035fa+_0x42e861;},'AkBIh':function(_0x4290a6,_0x19a99a){return _0x4290a6+_0x19a99a;},'FmPRr':function(_0x3cc164,_0xa0ab26){return _0x3cc164+_0xa0ab26;},'RyXWK':_0x406938(0xa3),'GMuaX':_0x406938(0x98),'HPKUz':_0x406938(0x92),'rEExO':function(_0x1f7352,_0x3efc4a,_0x559f73){return _0x1f7352(_0x3efc4a,_0x559f73);},'xCJVW':'请求获取Cookies时失败'},_0x1df562=await NTQQUserApi[_0x406938(0xc7)](),_0x37b9a6=_0x20f1c7[_0x406938(0x9b)](_0x20f1c7[_0x406938(0xe5)](_0x20f1c7[_0x406938(0xe5)](_0x20f1c7[_0x406938(0xe5)](_0x20f1c7[_0x406938(0xb6)](_0x20f1c7['RyXWK']+selfInfo[_0x406938(0xde)],_0x20f1c7[_0x406938(0xc0)]),_0x1df562['clientKey']),_0x406938(0xc9))+_0x38e105+_0x20f1c7[_0x406938(0xd9)],selfInfo[_0x406938(0xde)]),_0x406938(0xbc));let _0x5ecd4b={};try{_0x5ecd4b=await RequestUtil[_0x406938(0xa6)](_0x37b9a6);}catch(_0x44fff0){_0x20f1c7[_0x406938(0x8a)](logDebug,_0x20f1c7[_0x406938(0xed)],_0x44fff0),_0x5ecd4b={};}return _0x5ecd4b;}static async['getPSkey'](_0x16bf14){const _0x57b34e=_0x3e5148;return await napCatCore[_0x57b34e(0xe6)]['getTipOffService']()[_0x57b34e(0xd5)](_0x16bf14,!![]);}static async[_0x3e5148(0xc5)](){const _0x2e9297=_0x3e5148,_0x56b52a=await napCatCore[_0x2e9297(0xe6)]['getRobotService']()[_0x2e9297(0xc5)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x56b52a?.['response']?.[_0x2e9297(0xda)];}static async[_0x3e5148(0xaa)](){const _0x227f0f=_0x3e5148,_0x38db90={'opTIQ':function(_0xf7a46d,_0x44b6d5){return _0xf7a46d+_0x44b6d5;},'oPwkT':function(_0x423936,_0x2a1ae3){return _0x423936+_0x2a1ae3;},'SQRhI':function(_0x4158cf,_0x1b1a4a){return _0x4158cf+_0x1b1a4a;},'lQrvD':function(_0x5b06d7,_0xb5a0d0){return _0x5b06d7+_0xb5a0d0;},'ZsMxp':_0x227f0f(0xa3),'LGEdr':_0x227f0f(0x98),'yoSCG':_0x227f0f(0xbc),'WVyWg':function(_0x1f1d9e,_0x4be497,_0x55347b){return _0x1f1d9e(_0x4be497,_0x55347b);},'PQEFM':'请求获取Cookies时失败'},_0x3db129=await NTQQUserApi['forceFetchClientKey'](),_0x5e8639=_0x38db90[_0x227f0f(0xc3)](_0x38db90[_0x227f0f(0xc3)](_0x38db90[_0x227f0f(0xd3)](_0x38db90[_0x227f0f(0xbf)](_0x38db90[_0x227f0f(0x97)](_0x38db90[_0x227f0f(0xd6)],selfInfo[_0x227f0f(0xde)]),_0x38db90['LGEdr'])+_0x3db129[_0x227f0f(0x8c)],_0x227f0f(0xcb)),selfInfo['uin']),_0x38db90[_0x227f0f(0xd8)]);let _0xaef022={};try{_0xaef022=await RequestUtil[_0x227f0f(0xa6)](_0x5e8639);}catch(_0x5ec4fb){_0x38db90[_0x227f0f(0x9d)](logDebug,_0x38db90[_0x227f0f(0xb3)],_0x5ec4fb),_0xaef022={};}return _0xaef022;}static async[_0x3e5148(0x8f)](){const _0x2c27c5=_0x3e5148,_0x26daf7={'citUe':function(_0x3aa45f,_0x4b2431){return _0x3aa45f!==_0x4b2431;},'MnKDH':function(_0x384380,_0x44a1bb){return _0x384380+_0x44a1bb;},'qHWfs':function(_0x1ddf7c,_0x223c1d){return _0x1ddf7c+_0x223c1d;},'APDrI':_0x2c27c5(0xb7),'uabpj':function(_0x42ec94,_0x5d595a,_0x1df300){return _0x42ec94(_0x5d595a,_0x1df300);},'UwjvJ':_0x2c27c5(0x8d),'uqkPH':_0x2c27c5(0xe1)};try{const _0xc9fa75=await NTQQUserApi['forceFetchClientKey']();if(_0x26daf7[_0x2c27c5(0xd4)](_0xc9fa75['result'],0x0))return'';const _0x3ef8b1=_0xc9fa75['clientKey'],_0x1a8a05=_0xc9fa75[_0x2c27c5(0xdf)],_0x79d2fc=_0x26daf7[_0x2c27c5(0xba)](_0x26daf7['qHWfs'](_0x2c27c5(0xa3),selfInfo[_0x2c27c5(0xde)])+'&clientkey='+_0x3ef8b1,_0x26daf7[_0x2c27c5(0x9a)]);let _0x58d0e1={};try{_0x58d0e1=await RequestUtil[_0x2c27c5(0xa6)](_0x79d2fc);}catch(_0x134d46){_0x26daf7[_0x2c27c5(0x94)](logDebug,_0x26daf7[_0x2c27c5(0xc1)],_0x134d46),_0x58d0e1={};}const _0x507157=_0x58d0e1[_0x26daf7['uqkPH']];if(!_0x507157)return'';return _0x507157;}catch(_0x53f1eb){}return undefined;}static async[_0x3e5148(0x93)](_0x25d043){const _0x200f6a=_0x3e5148,_0x1dde03={'Ywuxz':'NodeIKernelUixConvertService/getUid'};let _0x105e70=await NTEventDispatch[_0x200f6a(0x9f)](_0x1dde03[_0x200f6a(0xdc)],0x1388,[_0x25d043]);return _0x105e70['uidInfo']['get'](_0x25d043);}static async[_0x3e5148(0xa5)](_0x498d50){const _0x57c889=_0x3e5148,_0x108ad0={'KZPZl':'NodeIKernelUixConvertService/getUin'};if(!_0x498d50)return'';let _0x479ee2=await NTEventDispatch['CallNoListenerEvent'](_0x108ad0[_0x57c889(0xa0)],0x1388,[_0x498d50]);return _0x479ee2[_0x57c889(0xe3)]['get'](_0x498d50);}static async['getUserDetailInfoByUin'](_0x215e2a){const _0x3bcf23=_0x3e5148,_0xe6bd39={'rftDj':_0x3bcf23(0xc4)};return NTEventDispatch['CallNoListenerEvent'](_0xe6bd39[_0x3bcf23(0xe4)],0x1388,_0x215e2a);}static async['forceFetchClientKey'](){const _0x2475d7=_0x3e5148;return await napCatCore[_0x2475d7(0xe6)][_0x2475d7(0xbb)]()[_0x2475d7(0xc7)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3e5148(0x96),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3e5148(0xb0),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3e5148(0xaa),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3e5148(0x8f),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,'ClientKey')],NTQQUserApi,'forceFetchClientKey',null);