const _0x2a329a=_0x2fac;(function(_0x39dbef,_0x4a8421){const _0x5e1f74=_0x2fac,_0x3d7222=_0x39dbef();while(!![]){try{const _0x3d7edb=-parseInt(_0x5e1f74(0x186))/0x1*(parseInt(_0x5e1f74(0x1bf))/0x2)+-parseInt(_0x5e1f74(0x1bb))/0x3*(-parseInt(_0x5e1f74(0x168))/0x4)+parseInt(_0x5e1f74(0x178))/0x5+parseInt(_0x5e1f74(0x192))/0x6+parseInt(_0x5e1f74(0x19a))/0x7+-parseInt(_0x5e1f74(0x16a))/0x8*(-parseInt(_0x5e1f74(0x185))/0x9)+-parseInt(_0x5e1f74(0x1a7))/0xa;if(_0x3d7edb===_0x4a8421)break;else _0x3d7222['push'](_0x3d7222['shift']());}catch(_0x50fb5f){_0x3d7222['push'](_0x3d7222['shift']());}}}(_0x117c,0xab0fe));function _0x117c(){const _0x79e435=['then','uid','result','TyeKa','setSelfOnlineStatus','getRobotService','YRtii','__decorate','uidInfo','getUserDetailInfo','162AjgqGt','806291uPTGwm','getUserDetailInfoWithBizInfo','getBuddyRecommendContactArkJson','VWKwT','ouART','AyGEW','decorate','setQQAvatar','QYvJx','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getMsgService','ifudc','7871808bGUIKS','setBuddyProfileLike','mRCYC','alyQX','YMwLV','OQlxl','uinInfo','ClientKey','8430002uaRkKa','NodeIKernelUixConvertService/getUid','session','keyIndex','&clientkey=','onLoginSuccess','forceFetchClientKey','%2F','TVuET','cjFOr','robotUinRanges','getQzoneCookies','hnKia','33142770uhQQrb','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','defineProperty','dFzXR','JgxJZ','EkgIy','length','UyEon','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','addListener','NodeIKernelProfileService/getUserDetailInfoByUin','&u1=https%3A%2F%2F','WHYlk','uin','setHeader','getPskey','PuLoJ','getProfileService','%2Finfocenter&keyindex=19%27','object','39XGMiWy','setLongNick','errMsg','response','2cMvUUK','getSkey','getPSkey','yjtrj','NodeIKernelUixConvertService/getUin','HttpsGetCookies','getTicketService','tVTBS','JmGRo','WPVpy','zayAT','getSelfInfo','getUidByUin','delete','like','clientKey','getOwnPropertyDescriptor','GJjAZ','CallNoListenerEvent','itYvO','uYUII','420268AExfgy','AidIu','169944VSyTVr','modifyDesktopMiniProfile','rJkKX','kSzDT','getCookies','iwvKR','tYNPz','skey','oItCr','getUinByUid','nBkgQ','rZHss','teoHp','NCqyp','2783695qwXIdn','getUserInfo','get'];_0x117c=function(){return _0x79e435;};return _0x117c();}var __decorate=this&&this[_0x2a329a(0x182)]||function(_0x2945da,_0x162e43,_0x7de67,_0x2f2b5a){const _0x1d67b8=_0x2a329a,_0x4ab568={'AidIu':function(_0x324363,_0x4d9ab4){return _0x324363<_0x4d9ab4;},'PuLoJ':function(_0x596fbc,_0x1d97d9){return _0x596fbc===_0x1d97d9;},'OQlxl':_0x1d67b8(0x1ba),'QYvJx':'function','YMwLV':function(_0x32e625,_0x4ab9c6){return _0x32e625-_0x4ab9c6;},'EkgIy':function(_0x17c127,_0x483870){return _0x17c127>=_0x483870;},'dFzXR':function(_0x2ed690,_0x5a1649){return _0x2ed690<_0x5a1649;},'kSzDT':function(_0x58a295,_0x26ed7f){return _0x58a295(_0x26ed7f);},'szhMm':function(_0x4ae44f,_0x542d66){return _0x4ae44f>_0x542d66;},'rZHss':function(_0x5f09db,_0x3d8064,_0x1aa051,_0x183809){return _0x5f09db(_0x3d8064,_0x1aa051,_0x183809);},'WHYlk':function(_0x78a28a,_0x251cb6,_0xbef745){return _0x78a28a(_0x251cb6,_0xbef745);},'TyeKa':function(_0x2b1875,_0x2639cb){return _0x2b1875>_0x2639cb;}};var _0x527c49=arguments[_0x1d67b8(0x1ad)],_0x2615c5=_0x4ab568[_0x1d67b8(0x169)](_0x527c49,0x3)?_0x162e43:_0x2f2b5a===null?_0x2f2b5a=Object[_0x1d67b8(0x163)](_0x162e43,_0x7de67):_0x2f2b5a,_0x3c460b;if(_0x4ab568[_0x1d67b8(0x1b7)](typeof Reflect,_0x4ab568[_0x1d67b8(0x197)])&&_0x4ab568[_0x1d67b8(0x1b7)](typeof Reflect[_0x1d67b8(0x18c)],_0x4ab568[_0x1d67b8(0x18e)]))_0x2615c5=Reflect[_0x1d67b8(0x18c)](_0x2945da,_0x162e43,_0x7de67,_0x2f2b5a);else{for(var _0x4b8574=_0x4ab568[_0x1d67b8(0x196)](_0x2945da[_0x1d67b8(0x1ad)],0x1);_0x4ab568[_0x1d67b8(0x1ac)](_0x4b8574,0x0);_0x4b8574--)if(_0x3c460b=_0x2945da[_0x4b8574])_0x2615c5=(_0x4ab568[_0x1d67b8(0x1aa)](_0x527c49,0x3)?_0x4ab568[_0x1d67b8(0x16d)](_0x3c460b,_0x2615c5):_0x4ab568['szhMm'](_0x527c49,0x3)?_0x4ab568[_0x1d67b8(0x175)](_0x3c460b,_0x162e43,_0x7de67,_0x2615c5):_0x4ab568[_0x1d67b8(0x1b3)](_0x3c460b,_0x162e43,_0x7de67))||_0x2615c5;}return _0x4ab568[_0x1d67b8(0x17e)](_0x527c49,0x3)&&_0x2615c5&&Object[_0x1d67b8(0x1a9)](_0x162e43,_0x7de67,_0x2615c5),_0x2615c5;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x2fac(_0x21744f,_0x458544){const _0x117c5c=_0x117c();return _0x2fac=function(_0x2fac3a,_0x12ec95){_0x2fac3a=_0x2fac3a-0x162;let _0x3e0731=_0x117c5c[_0x2fac3a];return _0x3e0731;},_0x2fac(_0x21744f,_0x458544);}profileListener['onProfileDetailInfoChanged']=_0x3c9c98=>{const _0x5c80de=_0x2a329a;userInfoCache[_0x3c9c98[_0x5c80de(0x17c)]]=_0x3c9c98,userDetailHandlers['forEach'](_0x3d2fea=>_0x3d2fea(_0x3c9c98));},setTimeout(()=>{const _0x1e03fa=_0x2a329a;napCatCore[_0x1e03fa(0x19f)](()=>{const _0x39deee=_0x1e03fa;napCatCore[_0x39deee(0x1b0)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x2a329a(0x1bc)](_0x353298){const _0x4a68db=_0x2a329a;return napCatCore[_0x4a68db(0x19c)]['getProfileService']()[_0x4a68db(0x1bc)](_0x353298);}static async[_0x2a329a(0x17f)](_0x231acb,_0x34c465,_0x48c40c){const _0x328506=_0x2a329a;return napCatCore['session'][_0x328506(0x190)]()['setStatus']({'status':_0x231acb,'extStatus':_0x34c465,'batteryStatus':_0x48c40c});}static async[_0x2a329a(0x188)](_0x2803a3,_0x1ddd1b=''){const _0x2c70ea=_0x2a329a;return napCatCore['session']['getBuddyService']()[_0x2c70ea(0x188)](_0x2803a3,_0x1ddd1b);}static async[_0x2a329a(0x1cd)](_0x274e1b,_0x417f4c=0x1){const _0x5ac2f3=_0x2a329a;return napCatCore[_0x5ac2f3(0x19c)]['getProfileLikeService']()[_0x5ac2f3(0x193)]({'friendUid':_0x274e1b,'sourceId':0x47,'doLikeCount':_0x417f4c,'doLikeTollCount':0x0});}static async[_0x2a329a(0x18d)](_0x56249f){const _0xbfa1d5=_0x2a329a,_0x54d2c1=await napCatCore[_0xbfa1d5(0x19c)]['getProfileService']()[_0xbfa1d5(0x1b5)](_0x56249f);return{'result':_0x54d2c1?.['result'],'errMsg':_0x54d2c1?.[_0xbfa1d5(0x1bd)]};}static async[_0x2a329a(0x1ca)](){}static async[_0x2a329a(0x179)](_0x5c6aca){}static async[_0x2a329a(0x184)](_0x5707d5){const _0x3af4c2=_0x2a329a,_0x42fc85={'JmGRo':function(_0x5c99cb,_0x50c33b){return _0x5c99cb(_0x50c33b);},'ifudc':'getUserDetailInfo\x20timeout','mRCYC':function(_0x35e644,_0x43f15b){return _0x35e644===_0x43f15b;},'nBkgQ':function(_0x45c874){return _0x45c874();},'uYUII':function(_0x2917ea,_0x4ff0d2,_0xcf2ebe){return _0x2917ea(_0x4ff0d2,_0xcf2ebe);}},_0x5cf821=napCatCore[_0x3af4c2(0x19c)][_0x3af4c2(0x1b8)]();return new Promise((_0x4f6a5f,_0x1f1bd9)=>{const _0x4cdee4=_0x3af4c2,_0x417503=_0x42fc85[_0x4cdee4(0x174)](randomUUID);let _0x3d9c8f=![],_0x5a9f58=undefined,_0x2e4284=!![];_0x42fc85[_0x4cdee4(0x167)](setTimeout,()=>{const _0x4e7b3f=_0x4cdee4;!_0x3d9c8f&&(_0x5a9f58?_0x4f6a5f(_0x5a9f58):_0x42fc85[_0x4e7b3f(0x1c7)](_0x1f1bd9,_0x42fc85[_0x4e7b3f(0x191)])),userDetailHandlers[_0x4e7b3f(0x1cc)](_0x417503);},0x1388),userDetailHandlers['set'](_0x417503,_0x164f1e=>{const _0x49e85b=_0x4cdee4;_0x42fc85[_0x49e85b(0x194)](_0x164f1e['uid'],_0x5707d5)&&(_0x2e4284?(_0x5a9f58=_0x164f1e,_0x2e4284=![]):(_0x3d9c8f=!![],_0x42fc85['JmGRo'](_0x4f6a5f,_0x164f1e)));}),_0x5cf821[_0x4cdee4(0x187)](_0x5707d5,[0x0])[_0x4cdee4(0x17b)](_0x3f6fe2=>{});});}static async['modifySelfProfile'](_0x199a9e){const _0x46fb95=_0x2a329a;return napCatCore[_0x46fb95(0x19c)]['getProfileService']()[_0x46fb95(0x16b)](_0x199a9e);}static async[_0x2a329a(0x16e)](_0x4c9a1f){const _0x46d184=_0x2a329a,_0x191705={'alyQX':function(_0x1f73f7,_0x341eb7){return _0x1f73f7+_0x341eb7;},'tVTBS':function(_0x3d11eb,_0x534e6a){return _0x3d11eb+_0x534e6a;},'zayAT':function(_0x1a6343,_0x372794){return _0x1a6343+_0x372794;},'tYNPz':function(_0x58f646,_0x19433b){return _0x58f646+_0x19433b;},'ouART':_0x46d184(0x18f),'teoHp':_0x46d184(0x19e),'WPVpy':_0x46d184(0x1b2),'itYvO':_0x46d184(0x1a1),'rJkKX':'%2Finfocenter&keyindex=19%27','zVFGl':function(_0x1ded7d,_0x128128,_0x3a24bd){return _0x1ded7d(_0x128128,_0x3a24bd);}},_0x8ea209=await NTQQUserApi[_0x46d184(0x1a0)](),_0x5acf6c=_0x191705[_0x46d184(0x195)](_0x191705[_0x46d184(0x195)](_0x191705[_0x46d184(0x1c6)](_0x191705[_0x46d184(0x1c9)](_0x191705[_0x46d184(0x1c6)](_0x191705[_0x46d184(0x170)](_0x191705[_0x46d184(0x18a)],selfInfo['uin']),_0x191705[_0x46d184(0x176)]),_0x8ea209[_0x46d184(0x162)]),_0x191705[_0x46d184(0x1c8)])+_0x4c9a1f,_0x191705[_0x46d184(0x166)])+selfInfo[_0x46d184(0x1b4)],_0x191705[_0x46d184(0x16c)]);let _0x5a9f41={};try{_0x5a9f41=await RequestUtil[_0x46d184(0x1c4)](_0x5acf6c);}catch(_0x4e44a4){_0x191705['zVFGl'](logDebug,'请求获取Cookies时失败',_0x4e44a4),_0x5a9f41={};}return _0x5a9f41;}static async[_0x2a329a(0x1c1)](_0x579939){const _0x429192=_0x2a329a;return await napCatCore[_0x429192(0x19c)]['getTipOffService']()[_0x429192(0x1b6)](_0x579939,!![]);}static async['getRobotUinRange'](){const _0x76b44c=_0x2a329a,_0x281808=await napCatCore[_0x76b44c(0x19c)][_0x76b44c(0x180)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x281808?.[_0x76b44c(0x1be)]?.[_0x76b44c(0x1a4)];}static async[_0x2a329a(0x1a5)](){const _0x481016=_0x2a329a,_0x52c157={'yjtrj':function(_0x5b70cb,_0x535921){return _0x5b70cb+_0x535921;},'AyGEW':function(_0x4a64b4,_0x58f81d){return _0x4a64b4+_0x58f81d;},'cjFOr':function(_0x13d9df,_0x227c5a){return _0x13d9df+_0x227c5a;},'iwvKR':function(_0x570769,_0x5bfa51){return _0x570769+_0x5bfa51;},'NTUQD':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','NCqyp':_0x481016(0x19e),'oItCr':function(_0x2a2198,_0x56bb5e,_0x7755ed){return _0x2a2198(_0x56bb5e,_0x7755ed);}},_0x13db72=await NTQQUserApi[_0x481016(0x1a0)](),_0x231892=_0x52c157[_0x481016(0x1c2)](_0x52c157[_0x481016(0x18b)](_0x52c157[_0x481016(0x1c2)](_0x52c157[_0x481016(0x1a3)](_0x52c157[_0x481016(0x16f)](_0x52c157[_0x481016(0x16f)](_0x52c157['NTUQD'],selfInfo[_0x481016(0x1b4)]),_0x52c157[_0x481016(0x177)]),_0x13db72[_0x481016(0x162)]),_0x481016(0x1af)),selfInfo['uin']),_0x481016(0x1b9));let _0x597be9={};try{_0x597be9=await RequestUtil[_0x481016(0x1c4)](_0x231892);}catch(_0x2bf942){_0x52c157[_0x481016(0x172)](logDebug,'请求获取Cookies时失败',_0x2bf942),_0x597be9={};}return _0x597be9;}static async[_0x2a329a(0x1c0)](){const _0x5558ee=_0x2a329a,_0x3a8f1f={'VWKwT':function(_0x4e0bd8,_0x3b3078){return _0x4e0bd8!==_0x3b3078;},'UyEon':function(_0x31fc6d,_0x2f2ea2){return _0x31fc6d+_0x2f2ea2;},'XsCHM':function(_0x2c5d99,_0x2d823e){return _0x2c5d99+_0x2d823e;},'JgxJZ':_0x5558ee(0x18f),'TVuET':_0x5558ee(0x19e),'YRtii':function(_0xb3883b,_0x6f7845,_0x25c82c){return _0xb3883b(_0x6f7845,_0x25c82c);},'GJjAZ':'请求获取Skey时失败','hnKia':_0x5558ee(0x171)};try{const _0x507206=await NTQQUserApi['forceFetchClientKey']();if(_0x3a8f1f[_0x5558ee(0x189)](_0x507206[_0x5558ee(0x17d)],0x0))return'';const _0x250e01=_0x507206[_0x5558ee(0x162)],_0x42e402=_0x507206[_0x5558ee(0x19d)],_0x2374f0=_0x3a8f1f[_0x5558ee(0x1ae)](_0x3a8f1f[_0x5558ee(0x1ae)](_0x3a8f1f['UyEon'](_0x3a8f1f['XsCHM'](_0x3a8f1f[_0x5558ee(0x1ab)],selfInfo[_0x5558ee(0x1b4)]),_0x3a8f1f[_0x5558ee(0x1a2)]),_0x250e01),_0x5558ee(0x1a8));let _0x12c442={};try{_0x12c442=await RequestUtil['HttpsGetCookies'](_0x2374f0);}catch(_0xf1579b){_0x3a8f1f[_0x5558ee(0x181)](logDebug,_0x3a8f1f[_0x5558ee(0x164)],_0xf1579b),_0x12c442={};}const _0xcc5413=_0x12c442[_0x3a8f1f[_0x5558ee(0x1a6)]];if(!_0xcc5413)return'';return _0xcc5413;}catch(_0x3d3223){}return undefined;}static async[_0x2a329a(0x1cb)](_0x46e0a0){const _0x4b31c9=_0x2a329a,_0x5cfacb={'wCbrM':_0x4b31c9(0x19b)};let _0x135533=await NTEventDispatch[_0x4b31c9(0x165)](_0x5cfacb['wCbrM'],0x1388,[_0x46e0a0]);return _0x135533[_0x4b31c9(0x183)][_0x4b31c9(0x17a)](_0x46e0a0);}static async[_0x2a329a(0x173)](_0x2857de){const _0x229166=_0x2a329a,_0x5d52b8={'IIFLs':_0x229166(0x1c3)};if(!_0x2857de)return'';let _0x55d1e8=await NTEventDispatch[_0x229166(0x165)](_0x5d52b8['IIFLs'],0x1388,[_0x2857de]);return _0x55d1e8[_0x229166(0x198)][_0x229166(0x17a)](_0x2857de);}static async['getUserDetailInfoByUin'](_0x32e989){const _0x51e90f=_0x2a329a,_0xb35614={'NOnjn':_0x51e90f(0x1b1)};return NTEventDispatch[_0x51e90f(0x165)](_0xb35614['NOnjn'],0x1388,_0x32e989);}static async['forceFetchClientKey'](){const _0x29086d=_0x2a329a;return await napCatCore['session'][_0x29086d(0x1c5)]()[_0x29086d(0x1a0)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x2a329a(0x1c1),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getQzoneCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x2a329a(0x1c0),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x2a329a(0x199))],NTQQUserApi,_0x2a329a(0x1a0),null);